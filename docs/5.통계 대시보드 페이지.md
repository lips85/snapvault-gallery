
# 통계 대시보드 페이지 기능 명세서

## 1. 개요
통계 대시보드 페이지는 사용자가 업로드된 사진 데이터를 다양한 차트와 그래프로 시각화하여 효율적으로 분석할 수 있는 기능을 제공합니다.

---

## 2. 프론트엔드 명세

**기능** | **상세 설명**
--- | ---
**통계 카드** | - 주요 지표 표시: 총 사진 수, 공정별 사진 분포, 최근 업로드된 사진 수.<br>- 시각적 강조를 위한 카드 스타일링.
**차트 시각화** | - 공정별 사진 분포: 파이 차트.<br>- 시간대별 업로드 현황: 꺾은선 그래프.<br>- 사용자별 활동 통계: 막대 그래프.<br>- 대시보드 라이브러리로 Chart.js 사용.
**기간 선택 필터** | 특정 기간 데이터를 분석할 수 있도록 날짜 선택 UI 제공.
**데이터 다운로드** | 분석된 데이터를 CSV 또는 PDF 형식으로 다운로드.
**실시간 데이터 반영** | 대시보드 데이터를 실시간으로 업데이트.
**다크 모드 지원** | Tailwind CSS 기반으로 다크 모드 스타일링.

---

## 3. 백엔드 명세

**기능** | **상세 설명**
--- | ---
**통계 데이터 API** | `/api/stats`<br>- **메서드**: GET.<br>- **요청 파라미터**: 시작 날짜, 종료 날짜.<br>- **응답**: JSON 형식의 통계 데이터.
**차트 데이터 API** | `/api/stats/charts`<br>- **메서드**: GET.<br>- **요청 파라미터**: 공정별, 날짜별, 사용자별 차트 데이터 요청.<br>- **응답**: 각 차트에 필요한 데이터.
**데이터 다운로드 API** | `/api/stats/download`<br>- **메서드**: POST.<br>- **요청 데이터**: 선택된 데이터 범위.<br>- **응답**: CSV 또는 PDF 파일 반환.
**실시간 업데이트** | WebSocket을 사용하여 실시간 데이터 갱신 제공.

---

## 4. 기술 요구사항

**프론트엔드**
- React + Next.js로 구현.
- Chart.js 또는 D3.js를 활용한 데이터 시각화.
- Tailwind CSS로 UI 스타일링.

**백엔드**
- Supabase 데이터베이스에서 통계 데이터 집계.
- 실시간 데이터 반영을 위한 WebSocket 설정.

**보안**
- API 호출 시 JWT 토큰 검증.
- 데이터 다운로드 권한 확인.

---

## 5. 사용자 흐름
1. 사용자가 통계 대시보드 페이지에 접속한다.
2. 특정 기간 또는 기준을 선택해 데이터를 조회한다.
3. 차트와 통계 카드를 통해 데이터를 분석한다.
4. 필요한 데이터를 CSV 또는 PDF로 다운로드한다.

